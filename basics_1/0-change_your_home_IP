#!/usr/bin/env bash
# This script modifies /etc/hosts to map localhost to 127.0.0.2
# and facebook.com to 8.8.8.8. It requires root privileges.

if [[ $EUID -ne 0 ]]; then
  echo "This script must be run with sudo or as root."
  exit 1
fi
#!/bin/bash
# Script to configure /etc/hosts so that:
# - localhost resolves to 127.0.0.2
# - facebook.com resolves to 8.8.8.8

HOSTS_FILE="/etc/hosts"
BACKUP_FILE="/etc/hosts.bak.$(date +%F_%T)"

# Backup the current hosts file
sudo cp "$HOSTS_FILE" "$BACKUP_FILE"

# Remove any existing localhost or facebook.com entries
sudo sed -i '/localhost/d' "$HOSTS_FILE"
sudo sed -i '/facebook.com/d' "$HOSTS_FILE"

# Add the required entries
echo "127.0.0.2   localhost" | sudo tee -a "$HOSTS_FILE" > /dev/null
echo "8.8.8.8     facebook.com" | sudo tee -a "$HOSTS_FILE" > /dev/null

echo "Configuration complete. Backup saved at: $BACKUP_FILE"
